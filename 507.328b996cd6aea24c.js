"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[507],{9507:(N,r,a)=>{a.r(r),a.d(r,{SeasonModule:()=>J});var m=a(268),t=a(1223),f=a(520),h=a(5299);let p=(()=>{class n{constructor(e,o){this.http=e,this.generateParamsService=o}getSchedule(e,o){return this.http.get(`https://ergast.com/api/f1/${e}`,this.generateParamsService.generateParams(o))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.eN),t.LFG(h.A))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var l=a(5767),v=a(4624);class d{constructor(i){this.activeRoute=i,this.isLoading=!1,this.routes=v.g,this.filterOptions={limit:10,offset:0}}}var u=a(9808),c=a(9327);const Z=function(n){return["./",n]};function _(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",12),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"div",13),t._UZ(12,"i",14),t.TgZ(13,"a",15),t._uU(14),t.qZA()()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(null==e?null:e.season),t.xp6(2),t.Q6J("routerLink",t.VKq(7,Z,null==e?null:e.round)),t.xp6(1),t.Oqu(null==e?null:e.round),t.xp6(2),t.Oqu(null==e?null:e.raceName),t.xp6(2),t.Oqu(null==e?null:e.date),t.xp6(4),t.MGl("href","https://www.google.com/maps?q=",o.getLocations(e),"",t.LSH),t.xp6(1),t.Oqu(null==e||null==e.Circuit?null:e.Circuit.circuitName)}}function b(n,i){if(1&n&&(t.TgZ(0,"table",10)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Season"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Round"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Race name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Date"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Circuit"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,_,15,9,"tr",11),t.qZA()()),2&n){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",null==e.data||null==e.data.RaceTable?null:e.data.RaceTable.Races)}}function T(n,i){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA())}function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-pagination",18),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(e),t.oxw().getData()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("pagesCount",e.totalItems)("filterOptions",e.filterOptions)}}const O=function(){return["/"]},R=function(n){return{"schedule-table--with-pagination":n}};let q=(()=>{class n extends d{constructor(e,o){super(e),this.scheduleApiService=o}ngOnInit(){this.getInitialData(),this.getData()}ngOnDestroy(){this.subscription.unsubscribe()}getInitialData(){this.year=this.activeRoute.snapshot.params.year}getData(){this.isLoading=!0,this.subscription=this.scheduleApiService.getSchedule(this.year,this.filterOptions).subscribe(e=>{this.data=e.MRData,this.totalItems=this.data.total,this.isLoading=!1})}getLocations(e){var o,s;return`${null===(o=null==e?void 0:e.Circuit)||void 0===o?void 0:o.Location.lat}, ${null===(s=null==e?void 0:e.Circuit)||void 0===s?void 0:s.Location.long}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-season"]],features:[t.qOj],decls:14,vars:9,consts:[[1,"season-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"season-page--header"],[1,"season-page--subheader"],[1,"season-page--subheader--element"],[1,"schedule-table",3,"ngClass"],["class","table",4,"ngIf"],["class","loader-block",4,"ngIf"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-location-dot","me-2"],["target","_blank",3,"href"],[1,"loader-block"],[1,"loader"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"h4",4),t._uU(7,"Season "),t.TgZ(8,"span",5),t._uU(9),t.qZA()(),t.TgZ(10,"div",6),t.YNc(11,b,15,1,"table",7),t.YNc(12,T,2,0,"div",8),t.qZA(),t.YNc(13,A,1,2,"app-pagination",9),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLink",t.DdM(6,O)),t.xp6(8),t.Oqu(o.year),t.xp6(1),t.Q6J("ngClass",t.VKq(7,R,o.totalItems>o.filterOptions.limit)),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.totalItems>o.filterOptions.limit))},directives:[l.rH,u.mk,u.O5,u.sg,l.yS,c.Q],encapsulation:2}),n})();var S=a(6997);function x(n,i){1&n&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2,"List is empty"),t.qZA()())}const g=function(n,i){return[n,i]};function C(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",17)(7,"a",18),t._uU(8),t.qZA(),t.TgZ(9,"div",19)(10,"div",20)(11,"label",21),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"p",22),t._uU(14),t.qZA()(),t.TgZ(15,"div",20)(16,"label",21),t._uU(17,"Nationality"),t.qZA(),t.TgZ(18,"p",22),t._uU(19),t.qZA()(),t.TgZ(20,"div",20)(21,"label",21),t._uU(22,"Date of Birth"),t.qZA(),t.TgZ(23,"p",22),t._uU(24),t.qZA()()()()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(null==e?null:e.position),t.xp6(2),t.Oqu(null==e?null:e.number),t.xp6(3),t.Q6J("routerLink",t.WLB(8,g,"/"+(null==o.routes?null:o.routes.DRIVERS),null==e||null==e.Driver?null:e.Driver.driverId)),t.xp6(1),t.Oqu(null==e||null==e.Driver?null:e.Driver.givenName),t.xp6(6),t.AsE("",null==e||null==e.Driver?null:e.Driver.givenName," ",null==e||null==e.Driver?null:e.Driver.familyName,""),t.xp6(5),t.Oqu(null==e||null==e.Driver?null:e.Driver.nationality),t.xp6(5),t.Oqu(null==e||null==e.Driver?null:e.Driver.dateOfBirth)}}function D(n,i){if(1&n&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Position"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Number"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Driver"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,C,25,11,"tr",16),t.qZA()()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.data)}}function U(n,i){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"div",24),t.qZA())}function y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-pagination",25),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(e),t.oxw().getData()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("pagesCount",e.totalItems)("filterOptions",e.filterOptions)}}const I=function(n){return{"round-table--with-pagination":n}},L=[{path:"",component:q},{path:":round",component:(()=>{class n extends d{constructor(e,o){super(e),this.roundResultApiService=o}ngOnInit(){this.getInitialData(),this.getData()}ngOnDestroy(){this.subscription.unsubscribe()}setResults(){var e,o,s;this.data=null===(s=null===(o=null===(e=this.roundResultsData)||void 0===e?void 0:e.RaceTable)||void 0===o?void 0:o.Races.shift())||void 0===s?void 0:s.Results}getInitialData(){this.year=this.activeRoute.snapshot.params.year,this.round=this.activeRoute.snapshot.params.round}getData(){this.isLoading=!0,this.subscription=this.roundResultApiService.getRaceDrivers(this.year,this.round,this.filterOptions).subscribe(e=>{this.roundResultsData=e.MRData,this.totalItems=this.roundResultsData.total,this.setResults(),this.isLoading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(S.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-season"]],features:[t.qOj],decls:20,vars:13,consts:[[1,"round-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"round-page--header"],[1,"d-flex","align-items-center","justify-content-center"],[1,"round-page--subheader","me-5"],[1,"round-page--subheader--element"],[1,"round-page--subheader"],[1,"round-table",3,"ngClass"],["class","round-table--empty",4,"ngIf"],["class","table",4,"ngIf"],["class","loader-block",4,"ngIf"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[1,"round-table--empty"],[1,"round-table--empty--text"],[1,"table"],[4,"ngFor","ngForOf"],[1,"driver-info-block"],[3,"routerLink"],[1,"driver-info-block--item"],[1,"driver-info--item"],[1,"driver-info--label"],[1,"driver-info--text"],[1,"loader-block"],[1,"loader"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8,"Season - "),t.TgZ(9,"span",6),t._uU(10),t.qZA()(),t.TgZ(11,"h4",7),t._uU(12,"Round - "),t.TgZ(13,"span",6),t._uU(14),t.qZA()()(),t.TgZ(15,"div",8),t.YNc(16,x,3,0,"div",9),t.YNc(17,D,11,1,"table",10),t.YNc(18,U,2,0,"div",11),t.qZA(),t.YNc(19,y,1,2,"app-pagination",12),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLink",t.WLB(8,g,"/"+(null==o.routes?null:o.routes.SEASON),o.year)),t.xp6(9),t.Oqu(o.year),t.xp6(4),t.Oqu(o.round),t.xp6(1),t.Q6J("ngClass",t.VKq(11,I,o.totalItems>o.filterOptions.limit)),t.xp6(1),t.Q6J("ngIf",!o.data&&!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.data&&!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.totalItems>o.filterOptions.limit))},directives:[l.rH,u.mk,u.O5,u.sg,l.yS,c.Q],encapsulation:2}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[p],imports:[[m.OP,F]]}),n})()}}]);