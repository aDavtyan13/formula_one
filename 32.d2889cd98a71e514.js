"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[32],{4624:(f,u,i)=>{i.d(u,{g:()=>e});var e=(()=>{return(r=e||(e={})).SEASON="season",r.ROUND="round",r.DRIVERS="drivers",e;var r})()},6997:(f,u,i)=>{i.d(u,{I:()=>l});var e=i(1223),r=i(520);let l=(()=>{class t{constructor(c){this.http=c}getRaceDrivers(c,a,d){return this.http.get(`https://ergast.com/api/f1/${c}/${a}/results.json`,{params:Object.assign({},d)})}}return t.\u0275fac=function(c){return new(c||t)(e.LFG(r.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()},9327:(f,u,i)=>{i.d(u,{Q:()=>t});var e=i(1223),r=i(9808);function l(s,c){if(1&s){const a=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){const h=e.CHM(a).$implicit;return e.oxw().changePage(h.number)}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&s){const a=c.$implicit;e.xp6(2),e.Oqu(a.number)}}let t=(()=>{class s{constructor(){this.updatedFilterOptionsEmit=new e.vpe}ngOnInit(){this.initializePages()}initializePages(){const a=Math.ceil(this.pagesCount/this.filterOptions.limit);this.pages=Array(a).fill(0).map((d,m)=>({number:m+1}))}changePage(a){this.filterOptions.offset=(a-1)*this.filterOptions.limit,this.updatedFilterOptionsEmit.emit()}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-pagination"]],inputs:{pagesCount:"pagesCount",filterOptions:"filterOptions"},outputs:{updatedFilterOptionsEmit:"updatedFilterOptionsEmit"},decls:2,vars:1,consts:[[1,"table-pagination"],["type","button","class","btn btn-success btn-icon",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","btn-icon",3,"click"]],template:function(a,d){1&a&&(e.TgZ(0,"div",0),e.YNc(1,l,3,1,"button",1),e.qZA()),2&a&&(e.xp6(1),e.Q6J("ngForOf",d.pages))},directives:[r.sg],encapsulation:2}),s})()},8313:(f,u,i)=>{i.d(u,{w:()=>r});var e=i(1223);let r=(()=>{class l{constructor(s){this.element=s,this.isOpened=!1}toggleMenu(){this.isOpened?(this.element.nativeElement.nextSibling.style.display="none",this.isOpened=!1):(this.element.nativeElement.nextSibling.style.display="block",this.isOpened=!0)}}return l.\u0275fac=function(s){return new(s||l)(e.Y36(e.SBq))},l.\u0275dir=e.lG2({type:l,selectors:[["","dropdown",""]],hostBindings:function(s,c){1&s&&e.NdJ("click",function(d){return c.toggleMenu(d.target)})}}),l})()},268:(f,u,i)=>{i.d(u,{OP:()=>h});var e=i(9808),l=(i(8313),i(6997)),s=(i(9327),i(1223));const d=[e.ez],m=[l.I];let h=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=s.oAB({type:_}),_.\u0275inj=s.cJS({providers:[...m],imports:[[...d],e.ez]}),_})()},7032:(f,u,i)=>{i.r(u),i.d(u,{MainModule:()=>b});var e=i(268),r=i(5767),l=i(4624),t=i(1223),s=i(520);let c=(()=>{class n{constructor(o){this.http=o}getSeasons(o){return this.http.get("https://ergast.com/api/f1/seasons.json",{params:Object.assign({},o)})}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(s.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var a=i(9808),d=i(8313);function m(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const E=t.CHM(o).$implicit;return t.oxw(2).selectYear(null==E?null:E.season)}),t._uU(1),t.qZA()}if(2&n){const o=p.$implicit;t.xp6(1),t.hij(" ",null==o?null:o.season," ")}}function h(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"p",11),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).loadMoreYears()}),t._uU(1,"Load more"),t.qZA()}}function _(n,p){if(1&n){const o=t.EpF();t.TgZ(0,"div",1)(1,"h1",2),t._uU(2,"Formula 1"),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return t.CHM(o),t.oxw().selectYear()}),t._uU(5," Current year "),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t._uU(8," Choose year "),t.qZA(),t.TgZ(9,"div",7)(10,"div"),t.YNc(11,m,2,1,"button",8),t.YNc(12,h,2,0,"p",9),t.qZA()()()()()}if(2&n){const o=t.oxw();t.xp6(11),t.Q6J("ngForOf",o.seasons),t.xp6(1),t.Q6J("ngIf",o.isLoadMoreAvailable)}}const M=[{path:"",component:(()=>{class n{constructor(o,g){this.route=o,this.seasonsApiService=g,this.filterOptions={limit:10,offset:0},this.isInMainPage=!0,this.isLoadMoreAvailable=!0}ngOnInit(){this.getYears()}ngOnDestroy(){this.subscription.unsubscribe()}getYears(){this.subscription=this.seasonsApiService.getSeasons(this.filterOptions).subscribe(o=>{this.seasons?(this.seasons.push(...o.MRData.SeasonTable.Seasons),this.filterOptions.offset+this.filterOptions.limit>this.seasons.length&&(this.isLoadMoreAvailable=!1)):this.seasons=o.MRData.SeasonTable.Seasons})}selectYear(o){this.isInMainPage=!1,this.route.navigate(o?[`/${l.g.SEASON}`,o]:[`/${l.g.SEASON}`,(new Date).getFullYear()])}loadMoreYears(){this.filterOptions.offset+=10,this.getYears()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r.F0),t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:1,consts:[["class","main-block",4,"ngIf"],[1,"main-block"],[1,"main-block--header"],[1,"main-block--actions"],["type","button",1,"btn","btn-success","me-4",3,"click"],[1,"dropdown"],["type","button","dropdown","",1,"btn","btn-outline-success","dropdown-toggle"],[1,"dropdown-menu"],["type","button","class","btn btn-success",3,"click",4,"ngFor","ngForOf"],["class","load-more",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],[1,"load-more",3,"click"]],template:function(o,g){1&o&&(t.YNc(0,_,13,2,"div",0),t._UZ(1,"router-outlet")),2&o&&t.Q6J("ngIf",g.isInMainPage)},directives:[a.O5,d.w,a.sg,r.lC],encapsulation:2}),n})()},{path:`${l.g.SEASON}/:year`,loadChildren:()=>i.e(330).then(i.bind(i,9330)).then(n=>n.SeasonModule)}];let C=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.Bz.forChild(M)],r.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[c],imports:[[e.OP,C]]}),n})()}}]);