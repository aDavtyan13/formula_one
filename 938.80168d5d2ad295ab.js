"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[938],{938:(I,p,l)=>{l.r(p),l.d(p,{SeasonModule:()=>F});var h=l(268),t=l(1223),f=l(520);let c=(()=>{class e{constructor(n){this.http=n}getSchedule(n,i){return this.http.get(`https://ergast.com/api/f1/${n}.json`,{params:Object.assign({},i)})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var s=l(5767),d=l(4624),r=l(9808);function _(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){const u=t.CHM(n).$implicit;return t.oxw().changePage(u.number)}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.number)}}let g=(()=>{class e{constructor(){this.updatedFilterOptionsEmit=new t.vpe}changePage(n){this.filterOptions.offset=(n-1)*this.filterOptions.limit,this.updatedFilterOptionsEmit.emit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pagination"]],inputs:{pages:"pages",filterOptions:"filterOptions"},outputs:{updatedFilterOptionsEmit:"updatedFilterOptionsEmit"},decls:2,vars:1,consts:[[1,"table-pagination"],["type","button","class","btn btn-success btn-icon",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","btn-icon",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,_,3,1,"button",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.pages))},directives:[r.sg],encapsulation:2}),e})();const v=function(e){return["./",e]};function Z(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",10),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"a",11),t._uU(12),t.qZA()()()),2&e){const n=o.$implicit,i=t.oxw();t.xp6(2),t.Oqu(null==n?null:n.season),t.xp6(2),t.Q6J("routerLink",t.VKq(7,v,null==n?null:n.round)),t.xp6(1),t.Oqu(null==n?null:n.round),t.xp6(2),t.Oqu(null==n?null:n.raceName),t.xp6(2),t.Oqu(null==n?null:n.date),t.xp6(2),t.MGl("href","https://www.google.com/maps?q=",i.getLocations(n),"",t.LSH),t.xp6(1),t.Oqu(null==n||null==n.Circuit?null:n.Circuit.circuitName)}}function b(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-pagination",12),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(n),t.oxw().getSchedule()}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("pages",n.paginationArray)("filterOptions",n.filterOptions)}}const O=function(){return["/"]},T=function(e){return{"schedule-table--with-pagination":e}};let A=(()=>{class e{constructor(n,i){this.activeRoute=n,this.scheduleApiService=i,this.filterOptions={limit:15,offset:0},this.routes=d.g}ngOnInit(){this.getInitialData(),this.getSchedule()}getInitialData(){this.year=this.activeRoute.snapshot.params.year}getPaginationInfo(){var n;const i=Math.ceil((null===(n=this.scheduleData)||void 0===n?void 0:n.total)/this.filterOptions.limit);this.paginationArray=Array(i).fill(0).map((a,u)=>({number:u+1}))}getSchedule(){this.scheduleApiService.getSchedule(this.year,this.filterOptions).subscribe(n=>{this.scheduleData=n.MRData,this.totalItems=this.scheduleData.total,this.getPaginationInfo()})}getLocations(n){var i,a;return`${null===(i=null==n?void 0:n.Circuit)||void 0===i?void 0:i.Location.lat}, ${null===(a=null==n?void 0:n.Circuit)||void 0===a?void 0:a.Location.long}`}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.gz),t.Y36(c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-season"]],decls:27,vars:8,consts:[[1,"season-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"season-page--header"],[1,"season-page--subheader"],[1,"season-page--subheader--element"],[1,"schedule-table",3,"ngClass"],[1,"table"],[4,"ngFor","ngForOf"],[3,"pages","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[3,"routerLink"],["target","_blank",3,"href"],[3,"pages","filterOptions","updatedFilterOptionsEmit"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"h4",4),t._uU(7,"Season "),t.TgZ(8,"span",5),t._uU(9),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Season"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Round"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Race name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Date"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Circuit"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,Z,13,9,"tr",8),t.qZA()()(),t.YNc(26,b,1,2,"app-pagination",9),t.qZA()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(5,O)),t.xp6(8),t.Oqu(i.year),t.xp6(1),t.Q6J("ngClass",t.VKq(6,T,i.totalItems>i.filterOptions.limit)),t.xp6(15),t.Q6J("ngForOf",null==i.scheduleData||null==i.scheduleData.RaceTable?null:i.scheduleData.RaceTable.Races),t.xp6(1),t.Q6J("ngIf",i.totalItems>i.filterOptions.limit))},directives:[s.rH,r.mk,r.sg,s.yS,r.O5,g],encapsulation:2}),e})();var R=l(6997);function q(e,o){1&e&&(t.TgZ(0,"div",12)(1,"p",13),t._uU(2,"List is empty"),t.qZA()())}const m=function(e,o){return[e,o]};function C(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",16)(7,"a",17),t._uU(8),t.qZA(),t.TgZ(9,"div",18)(10,"div",19)(11,"label",20),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"p",21),t._uU(14),t.qZA()(),t.TgZ(15,"div",19)(16,"label",20),t._uU(17,"Nationality"),t.qZA(),t.TgZ(18,"p",21),t._uU(19),t.qZA()(),t.TgZ(20,"div",19)(21,"label",20),t._uU(22,"Date of Birth"),t.qZA(),t.TgZ(23,"p",21),t._uU(24),t.qZA()()()()()()),2&e){const n=o.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(null==n?null:n.position),t.xp6(2),t.Oqu(null==n?null:n.number),t.xp6(3),t.Q6J("routerLink",t.WLB(8,m,"/"+(null==i.routes?null:i.routes.DRIVERS),null==n||null==n.Driver?null:n.Driver.driverId)),t.xp6(1),t.Oqu(null==n||null==n.Driver?null:n.Driver.givenName),t.xp6(6),t.AsE("",null==n||null==n.Driver?null:n.Driver.givenName," ",null==n||null==n.Driver?null:n.Driver.familyName,""),t.xp6(5),t.Oqu(null==n||null==n.Driver?null:n.Driver.nationality),t.xp6(5),t.Oqu(null==n||null==n.Driver?null:n.Driver.dateOfBirth)}}function S(e,o){if(1&e&&(t.TgZ(0,"table",14)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Position"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Number"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Driver"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,C,25,11,"tr",15),t.qZA()()),2&e){const n=t.oxw();t.xp6(10),t.Q6J("ngForOf",n.results)}}function x(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-pagination",22),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(n),t.oxw().getRoundData()}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("pages",n.paginationArray)("filterOptions",n.filterOptions)}}const y=function(e){return{"round-table--with-pagination":e}},D=[{path:"",component:A},{path:":round",component:(()=>{class e{constructor(n,i){this.activeRoute=n,this.roundResultApiService=i,this.routes=d.g,this.filterOptions={limit:10,offset:0}}ngOnInit(){this.getInitialData(),this.getRoundData()}getInitialData(){this.year=this.activeRoute.snapshot.params.year,this.round=this.activeRoute.snapshot.params.round}getPaginationInfo(){var n;const i=Math.ceil((null===(n=this.roundResultsData)||void 0===n?void 0:n.total)/this.filterOptions.limit);this.paginationArray=Array(i).fill(0).map((a,u)=>({number:u+1}))}getRoundData(){this.roundResultApiService.getRaceDrivers(this.year,this.round,this.filterOptions).subscribe(n=>{var i,a,u;this.roundResultsData=n.MRData,this.totalItems=this.roundResultsData.total,this.results=null===(u=null===(a=null===(i=this.roundResultsData)||void 0===i?void 0:i.RaceTable)||void 0===a?void 0:a.Races.shift())||void 0===u?void 0:u.Results,this.getPaginationInfo()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.gz),t.Y36(R.I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-season"]],decls:19,vars:12,consts:[[1,"round-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"round-page--header"],[1,"d-flex","align-items-center","justify-content-center"],[1,"round-page--subheader","me-5"],[1,"round-page--subheader--element"],[1,"round-page--subheader"],[1,"round-table",3,"ngClass"],["class","round-table--empty",4,"ngIf"],["class","table",4,"ngIf"],[3,"pages","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[1,"round-table--empty"],[1,"round-table--empty--text"],[1,"table"],[4,"ngFor","ngForOf"],[1,"driver-info-block"],[3,"routerLink"],[1,"driver-info-block--item"],[1,"driver-info--item"],[1,"driver-info--label"],[1,"driver-info--text"],[3,"pages","filterOptions","updatedFilterOptionsEmit"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8,"Season - "),t.TgZ(9,"span",6),t._uU(10),t.qZA()(),t.TgZ(11,"h4",7),t._uU(12,"Round - "),t.TgZ(13,"span",6),t._uU(14),t.qZA()()(),t.TgZ(15,"div",8),t.YNc(16,q,3,0,"div",9),t.YNc(17,S,11,1,"table",10),t.qZA(),t.YNc(18,x,1,2,"app-pagination",11),t.qZA()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.WLB(7,m,"/"+(null==i.routes?null:i.routes.SEASON),i.year)),t.xp6(9),t.Oqu(i.year),t.xp6(4),t.Oqu(i.round),t.xp6(1),t.Q6J("ngClass",t.VKq(10,y,i.totalItems>i.filterOptions.limit)),t.xp6(1),t.Q6J("ngIf",!i.results),t.xp6(1),t.Q6J("ngIf",i.results),t.xp6(1),t.Q6J("ngIf",i.totalItems>i.filterOptions.limit))},directives:[s.rH,r.mk,r.O5,r.sg,s.yS,g],encapsulation:2}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.Bz.forChild(D)],s.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[c],imports:[[h.O,U]]}),e})()}}]);