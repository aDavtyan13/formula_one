"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[330],{9330:(x,r,u)=>{u.r(r),u.d(r,{SeasonModule:()=>U});var h=u(268),t=u(1223),m=u(520);let p=(()=>{class n{constructor(e){this.http=e}getSchedule(e,o){return this.http.get(`https://ergast.com/api/f1/${e}.json`,{params:Object.assign({},o)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var l=u(5767),c=u(4624),a=u(9808),d=u(9327);const f=function(n){return["./",n]};function v(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"a",10),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"a",11),t._uU(12),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.season),t.xp6(2),t.Q6J("routerLink",t.VKq(7,f,null==e?null:e.round)),t.xp6(1),t.Oqu(null==e?null:e.round),t.xp6(2),t.Oqu(null==e?null:e.raceName),t.xp6(2),t.Oqu(null==e?null:e.date),t.xp6(2),t.MGl("href","https://www.google.com/maps?q=",o.getLocations(e),"",t.LSH),t.xp6(1),t.Oqu(null==e||null==e.Circuit?null:e.Circuit.circuitName)}}function Z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-pagination",12),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(e),t.oxw().getSchedule()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("pagesCount",e.totalItems)("filterOptions",e.filterOptions)}}const _=function(){return["/"]},b=function(n){return{"schedule-table--with-pagination":n}};let R=(()=>{class n{constructor(e,o){this.activeRoute=e,this.scheduleApiService=o,this.filterOptions={limit:15,offset:0},this.routes=c.g}ngOnInit(){this.getInitialData(),this.getSchedule()}ngOnDestroy(){this.subscription.unsubscribe()}getInitialData(){this.year=this.activeRoute.snapshot.params.year}getSchedule(){this.subscription=this.scheduleApiService.getSchedule(this.year,this.filterOptions).subscribe(e=>{this.scheduleData=e.MRData,this.totalItems=this.scheduleData.total})}getLocations(e){var o,s;return`${null===(o=null==e?void 0:e.Circuit)||void 0===o?void 0:o.Location.lat}, ${null===(s=null==e?void 0:e.Circuit)||void 0===s?void 0:s.Location.long}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-season"]],decls:27,vars:8,consts:[[1,"season-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"season-page--header"],[1,"season-page--subheader"],[1,"season-page--subheader--element"],[1,"schedule-table",3,"ngClass"],[1,"table"],[4,"ngFor","ngForOf"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[3,"routerLink"],["target","_blank",3,"href"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"h4",4),t._uU(7,"Season "),t.TgZ(8,"span",5),t._uU(9),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Season"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Round"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Race name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Date"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Circuit"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,v,13,9,"tr",8),t.qZA()()(),t.YNc(26,Z,1,2,"app-pagination",9),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLink",t.DdM(5,_)),t.xp6(8),t.Oqu(o.year),t.xp6(1),t.Q6J("ngClass",t.VKq(6,b,o.totalItems>o.filterOptions.limit)),t.xp6(15),t.Q6J("ngForOf",null==o.scheduleData||null==o.scheduleData.RaceTable?null:o.scheduleData.RaceTable.Races),t.xp6(1),t.Q6J("ngIf",o.totalItems>o.filterOptions.limit))},directives:[l.rH,a.mk,a.sg,l.yS,a.O5,d.Q],encapsulation:2}),n})();var O=u(6997);function T(n,i){1&n&&(t.TgZ(0,"div",12)(1,"p",13),t._uU(2,"List is empty"),t.qZA()())}const g=function(n,i){return[n,i]};function A(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",16)(7,"a",17),t._uU(8),t.qZA(),t.TgZ(9,"div",18)(10,"div",19)(11,"label",20),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"p",21),t._uU(14),t.qZA()(),t.TgZ(15,"div",19)(16,"label",20),t._uU(17,"Nationality"),t.qZA(),t.TgZ(18,"p",21),t._uU(19),t.qZA()(),t.TgZ(20,"div",19)(21,"label",20),t._uU(22,"Date of Birth"),t.qZA(),t.TgZ(23,"p",21),t._uU(24),t.qZA()()()()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(null==e?null:e.position),t.xp6(2),t.Oqu(null==e?null:e.number),t.xp6(3),t.Q6J("routerLink",t.WLB(8,g,"/"+(null==o.routes?null:o.routes.DRIVERS),null==e||null==e.Driver?null:e.Driver.driverId)),t.xp6(1),t.Oqu(null==e||null==e.Driver?null:e.Driver.givenName),t.xp6(6),t.AsE("",null==e||null==e.Driver?null:e.Driver.givenName," ",null==e||null==e.Driver?null:e.Driver.familyName,""),t.xp6(5),t.Oqu(null==e||null==e.Driver?null:e.Driver.nationality),t.xp6(5),t.Oqu(null==e||null==e.Driver?null:e.Driver.dateOfBirth)}}function q(n,i){if(1&n&&(t.TgZ(0,"table",14)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Position"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Number"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Driver"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,A,25,11,"tr",15),t.qZA()()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.results)}}function S(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-pagination",22),t.NdJ("updatedFilterOptionsEmit",function(){return t.CHM(e),t.oxw().getRoundData()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("pagesCount",e.totalItems)("filterOptions",e.filterOptions)}}const C=function(n){return{"round-table--with-pagination":n}},D=[{path:"",component:R},{path:":round",component:(()=>{class n{constructor(e,o){this.activeRoute=e,this.roundResultApiService=o,this.routes=c.g,this.filterOptions={limit:10,offset:0}}ngOnInit(){this.getInitialData(),this.getRoundData()}ngOnDestroy(){this.subscription.unsubscribe()}getInitialData(){this.year=this.activeRoute.snapshot.params.year,this.round=this.activeRoute.snapshot.params.round}setResults(){var e,o,s;this.results=null===(s=null===(o=null===(e=this.roundResultsData)||void 0===e?void 0:e.RaceTable)||void 0===o?void 0:o.Races.shift())||void 0===s?void 0:s.Results}getRoundData(){this.subscription=this.roundResultApiService.getRaceDrivers(this.year,this.round,this.filterOptions).subscribe(e=>{this.roundResultsData=e.MRData,this.totalItems=this.roundResultsData.total,this.setResults()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(O.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-season"]],decls:19,vars:12,consts:[[1,"round-page"],[1,"back-button",3,"routerLink"],[1,"btn","btn-outline-success"],[1,"round-page--header"],[1,"d-flex","align-items-center","justify-content-center"],[1,"round-page--subheader","me-5"],[1,"round-page--subheader--element"],[1,"round-page--subheader"],[1,"round-table",3,"ngClass"],["class","round-table--empty",4,"ngIf"],["class","table",4,"ngIf"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit",4,"ngIf"],[1,"round-table--empty"],[1,"round-table--empty--text"],[1,"table"],[4,"ngFor","ngForOf"],[1,"driver-info-block"],[3,"routerLink"],[1,"driver-info-block--item"],[1,"driver-info--item"],[1,"driver-info--label"],[1,"driver-info--text"],[3,"pagesCount","filterOptions","updatedFilterOptionsEmit"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"h2",3),t._uU(5,"Schedule"),t.qZA(),t.TgZ(6,"div",4)(7,"h4",5),t._uU(8,"Season - "),t.TgZ(9,"span",6),t._uU(10),t.qZA()(),t.TgZ(11,"h4",7),t._uU(12,"Round - "),t.TgZ(13,"span",6),t._uU(14),t.qZA()()(),t.TgZ(15,"div",8),t.YNc(16,T,3,0,"div",9),t.YNc(17,q,11,1,"table",10),t.qZA(),t.YNc(18,S,1,2,"app-pagination",11),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLink",t.WLB(7,g,"/"+(null==o.routes?null:o.routes.SEASON),o.year)),t.xp6(9),t.Oqu(o.year),t.xp6(4),t.Oqu(o.round),t.xp6(1),t.Q6J("ngClass",t.VKq(10,C,o.totalItems>o.filterOptions.limit)),t.xp6(1),t.Q6J("ngIf",!o.results),t.xp6(1),t.Q6J("ngIf",o.results),t.xp6(1),t.Q6J("ngIf",o.totalItems>o.filterOptions.limit))},directives:[l.rH,a.mk,a.O5,a.sg,l.yS,d.Q],encapsulation:2}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(D)],l.Bz]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[p],imports:[[h.OP,y]]}),n})()}}]);